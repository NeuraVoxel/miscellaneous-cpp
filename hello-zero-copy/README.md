# C++ 零拷贝示例

这个项目展示了在C++中实现零拷贝(Zero-Copy)技术的几种方法。零拷贝是一种优化I/O操作的技术，通过减少或消除数据在内核空间和用户空间之间的复制来提高性能。

## 零拷贝技术简介

传统的I/O操作通常涉及多次数据复制：
1. 数据从磁盘复制到内核缓冲区
2. 数据从内核缓冲区复制到用户空间缓冲区
3. 数据从用户空间缓冲区复制回内核缓冲区（例如，用于网络传输）
4. 数据从内核缓冲区复制到网络接口缓冲区

零拷贝技术通过避免不必要的数据复制来优化这个过程，减少CPU使用率和内存带宽消耗。

## 本项目实现的零拷贝方法

1. **mmap/munmap**: 将文件映射到内存，直接在内存中操作文件内容
2. **sendfile**: 在文件描述符之间直接传输数据，无需经过用户空间
3. **splice**: 在两个文件描述符之间移动数据，无需经过用户空间

同时提供了传统的读写方法作为对比。

## 构建和运行

### 前提条件
- CMake 3.10或更高版本
- 支持C++17的编译器

### 构建步骤
```bash
mkdir build
cd build
cmake ..
make
```

### 运行
```bash
./zero_copy_demo <源文件路径> <目标文件路径>
```

## 性能比较

程序会执行不同的复制方法并显示每种方法的执行时间，以便比较它们的性能差异。